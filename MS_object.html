<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />
    <link rel="stylesheet" href="minesweeper.css">
    <title>Minesweeper</title>
</head>

<body>
    <header>
        <h1>
            Minesweeper
            <i class="fas fa-bomb"></i>
        </h1>
        <form action="" id="form">
            <fieldset>
                <label for="gridSize_1">Débutant (9 x 9, 10 bombes)</label>
                <input id="gridSize_1" name="gridSize" data-height="9" data-width="9" data-bombs="10" type="radio" />
            </fieldset>
            <fieldset>
                <label for="gridSize_2">Intermédiaire (16 x 16, 40 bombes)</label>
                <input id="gridSize_2" checked="checked" name="gridSize" data-height="16" data-width="16"
                    data-bombs="40" type="radio" />
            </fieldset>
            <fieldset>
                <label for="gridSize_3">Avancé (16 x 30, 99 bombes)</label>
                <input id="gridSize_3" name="gridSize" data-height="16" data-width="30" data-bombs="99" type="radio" />
            </fieldset>
        </form>
    </header>
    <main>
        <table id="grid"></table>
        <div id="flags"></div>
        <div>
            <button id="btn_controls">Contrôles</button>
        </div>
    </main>
    <div id="veil"></div>
    <div id="controls">
        <h2>Objectif :</h2>
        <p> - Révélez toutes les cases sans bombe.</p>
        <p> - Vous perdez lorsque vous cliquez sur une bombe.</p>
        <h2>Contrôles :</h2>
        <p><strong>Clic gauche :</strong> révèle une case.</p>
        <p><strong>Clic droit :</strong>
            <ol>
                <li>Pose un drapeau sur une case non révélée (bloque le clic) ;</li>
                <li>Le remplace par un point d'interrogation ;</li>
                <li>Enlève le point d'interrogation.</li>
            </ol>
        </p>
        <p><strong>Double clic droit sur une case révélée :</strong> découvre les cases adjacentes sauf celles marquées
            par
            un drapeau.</p>
        <button id="ok">Compris</button>
    </div>
    <script src="Grid.js"></script>
    <script>
        const form = document.querySelector("#form");
        const startButton = document.querySelector("#startButton");
        const configButtons = document.getElementsByName("gridSize");
        const controls = document.querySelector("#controls");
        const veil = document.querySelector("#veil");
        const ok_controls = document.querySelector("#ok");
        const btn_controls = document.querySelector("#btn_controls"); 7

        Grid.draw();

        configButtons.forEach(radio => radio.addEventListener('change', function () {
            Grid.draw();
        }));

        ok_controls.addEventListener("click", function () {
            veil.style.display = "none";
            controls.style.display = "none";
        });

        veil.addEventListener("click", function () {
            veil.style.display = "none";
            controls.style.display = "none";
        });

        btn_controls.addEventListener("click", function () {
            alertControls();
        });

        function alertControls() {
            veil.style.display = "block";
            controls.style.display = "block";
        }
    </script>
</body>

</html>